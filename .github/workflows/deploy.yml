name: Deploy Simples

on:
  workflow_dispatch:
    inputs:
      ambiente:
        description: 'Ambiente para deploy'
        required: true
        default: 'staging'
        type: choice
        options:
        - staging
        - production

jobs:
  deploy:
    name: Deploy para ${{ github.event.inputs.ambiente }}
    runs-on: ubuntu-latest

    steps:
    - name: Checkout cÃ³digo
      uses: actions/checkout@v4

    - name: Setup Docker Buildx
      uses: docker/setup-buildx-action@v3

    - name: Build Docker image
      run: |
        docker build -t appns-assinaturas:${{ github.event.inputs.ambiente }} .

    - name: Deploy
      run: |
        echo "ğŸš€ Deploy para ${{ github.event.inputs.ambiente }} concluÃ­do!"
        echo "ğŸ“¦ Imagem Docker criada: appns-assinaturas:${{ github.event.inputs.ambiente }}"
        echo "âœ… Pronto para uso futuro"
